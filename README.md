# Проект: Клиент-серверное приложение

Этот проект представляет собой клиент-серверное приложение, включающее Backend (на ASP.NET 8), Frontend (на React.js), базу данных PostgreSQL и NGINX для проксирования трафика.

## Описание задачи
Реализовать простое Web приложение для приемки заказа на доставку со следующим функционалом:

1. Форма создания нового заказа (все поля обязательны для заполнения):
Город отправителя
Адрес отправителя
Город получателя
Адрес получателя
Вес груза
Дата забора груза

2. Форма отображения списка заказов: все созданные заказы должны отображаться в отдельной форме. Помимо полей, введенных пользователем при создании заказа, должен отображаться автоматически сгенерированный номер заказа.

3. Форма просмотра созданного заказа в режиме чтения. Должна открываться при клике на заказ в списке заказов.

---

## Требования

Перед началом работы убедитесь, что на вашем компьютере установлено следующее:
- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- [Git](https://git-scm.com/)

---

## Установка и запуск

## Запуск проекта из репозитория

### 1. Клонирование репозитория

Склонируйте проект с GitHub:

```bash
git clone git@github.com:MsShel/VerstaTestAssembly.git
cd <название папки проекта>
```

---

### 2. Настройка структуры проекта

Убедитесь, что структура проекта соответствует следующей:

```plaintext
/your-project
  ├── docker-compose.yml         # Файл для конфигурации всех сервисов
  ├── nginx.conf                 # Конфигурационный файл NGINX
  ├── Dockerfile-back            # Dockerfile для .NET приложения
  ├── Dockerfile-front           # Dockerfile для React.js приложения
  ├── init-db.sql                # SQL файл для инициализации базы данных
  ├── Backend/
  │     └── OrdersAPI/
  │           ├── OrdersAPI.csproj
  │           └── (прочие файлы Backend)
  ├── Web/
        └── (файлы Frontend)
```

---

### 3. Запуск проекта

Постройте и запустите все контейнеры с помощью команды:

```bash
docker-compose up --build
```

Если хотите запустить в фоновом режиме, добавьте флаг `-d`:

```bash
docker-compose up --build -d
```

---

### Доступ к сервисам

После успешного запуска проекта, сервисы будут доступны по следующим адресам:

- **Frontend**: [http://localhost](http://localhost)
- **Backend**: [http://localhost:5000](http://localhost:5000/api/orders)
- **База данных**: PostgreSQL работает на порту `6432`. Данные для подключения:
  - Хост: `localhost`
  - Пользователь: `postgres`
  - Пароль: `12345678`
  - База данных: `versta_db`

---

### Остановка проекта

Для остановки всех запущенных контейнеров используйте команду:

```bash
docker-compose down
```

Чтобы также удалить данные базы данных, добавьте флаг `-v`:

```bash
docker-compose down -v
```

---

### Возможные ошибки

1. **Контейнеры не запускаются:**
   - Убедитесь, что порты `80`, `5000` и `6432` свободны.
   - При первом запуске возможны ошибки в одном или нескольких контейнерах, в таком случае необходимо перезапустить эти контейнеры
   - Проверьте логи контейнеров с помощью команды:
     ```bash
     docker-compose logs
     ```

2. **База данных не инициализируется:**
   - Проверьте существование файла `init-db.sql` и его указание в `docker-compose.yml`.

3. **Проблемы с NGINX:**
   - Проверьте конфигурацию файла `nginx.conf`.
   - Перезагрузите контейнеры с помощью команды:
     ```bash
     docker-compose restart
     ```

---

Теперь проект готов к использованию!

